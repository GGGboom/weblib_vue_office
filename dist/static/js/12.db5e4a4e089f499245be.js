webpackJsonp([12],{PJrY:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("jS7Z"),l=a("UqIz"),n=a("NYxO"),r=a("S6Qt"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},o={name:"sent",components:{Breadcrumb:l.a,receiveTree:r.default},created(){this.$root.$on("delete-share-callback",this.deleteShareCallback),this.listQuery.start=0,this.searchResources()},computed:i({searchResults(){return this.resources.searchResults},isSearch(){return this.resources.isSearch},searchParams(){return this.resources.searchParams}},Object(n.b)(["resources","personalGroupID"])),watch:{$route(e,t){this.isPaging=!1,this.listQuery.start=0,this.searchResources(),e.params.id>0&&this.$store.dispatch("ClearSearch").then(e=>{})},searchResults(e){const t=e.resources;this.tableData=[],this.total=e.totalCount,this.listLoading=!1,this.path=e.path,this.$nextTick(()=>{this.tableData=t})},tableSelection(e){0==e.length&&(e=void 0),this.$store.dispatch("SetTableSelection",e)}},data(){return{tableData:null,tableSelection:[],total:null,dialogUpload:!1,path:null,emptyText:"暂无数据",loading:!1,id:this.$route.params.id,isPaging:!0,listQuery:{start:0,limit:40,memberId:this.$store.getters.memberId}}},methods:{searchResources(){Object(s.b)(this.listQuery).then(e=>{this.isPaging=!0;const t=(e=e.data).shareRecord;this.tableData=[],this.path=[{displayName:"我的分享"}],this.$nextTick(()=>{this.tableData=t,0===this.tableData.length&&(this.emptyText="暂无数据"),this.loading=!1})})},handleCurrentChange(e){this.listQuery.start=(e-1)*this.listQuery.limit,this.searchResources()},handleSizeChange(e){this.listQuery.limit=e,this.searchResources()},handleDownload(e){location.href="/group/downloadResource_v2?id="+e},handleSelectionChange(e){this.tableSelection=e},deleteShareCallback(){let e=[];0!==(e=this.tableSelection.map(e=>e.shareId)).length?this.$confirm("此操作将删除所选文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{Object(s.a)({id:e.join(",")}).then(e=>{this.searchResources(),this.$message({showClose:!0,message:"操作成功",type:"success"})})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})}):this.$message({showClose:!0,message:"请选择一个操作项！",type:"warning",duration:1e3})},handleFileClick(e){location.hash="/personal/main/"+e.id},expandOrNot(e){this.$refs.table.toggleRowExpansion(e)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flexBox"},[a("div",{staticClass:"breadcrumbWrap flexHeader"},[a("breadcrumb",{staticClass:"breadcrumb-container",attrs:{path:e.path}})],1),e._v(" "),a("div",{staticClass:"flexBody"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:0,ref:"table",staticClass:"receiveTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("div",{staticClass:"empty",attrs:{slot:"empty"},slot:"empty"},[e._v(e._s(e.emptyText))]),e._v(" "),a("el-table-column",{attrs:{type:"selection",width:"35"}}),e._v(" "),a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("receive-tree",{attrs:{data:e.row}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"分享到",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[""!==t.row.recipients?a("el-tag",[a("svg-icon",{attrs:{iconClass:"user2"}}),e._v(" "+e._s(t.row.recipients))],1):e._e(),e._v(" "),""!==t.row.groupReceivers?a("el-tag",[a("svg-icon",{attrs:{iconClass:"team"}}),e._v(" "+e._s(t.row.groupReceivers))],1):e._e()],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"包含文件",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{width:"100%","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){e.expandOrNot(t.row)}}},[a("svg-icon",{staticClass:"icon",staticStyle:{"font-size":"20px"},attrs:{"icon-class":"folder"}}),e._v(" "),a("span",{attrs:{title:t.row.resources[0].displayName+"等"},domProps:{innerHTML:e._s(t.row.resources[0].displayName+"等")}})],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"100",label:"分享时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.shareDate))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"附言",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{width:"100%","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden"},attrs:{title:t.row.remark}},[a("span",{domProps:{innerHTML:e._s(t.row.remark)}})])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination-container flexFooter",staticStyle:{display:"none"}},[e.isPaging?a("el-pagination",{attrs:{background:"",total:e.total,"page-size":e.listQuery.limit,"page-sizes":[40,60,80],layout:"total, sizes, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}}):e._e()],1)])},staticRenderFns:[]};var d=a("VU/8")(o,c,!1,function(e){a("c9R/")},"data-v-4ea9173d",null);t.default=d.exports},"c9R/":function(e,t,a){var s=a("mES4");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("rjj0")("25fc6866",s,!0)},mES4:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.breadcrumbWrap[data-v-4ea9173d] {\n  border-bottom: 1px solid #e6e6e6;\n  height: 40px;\n}\n.el-breadcrumb__item[data-v-4ea9173d] {\n  height: 40px !important;\n  line-height: 40px !important;\n}\n.receiveTable[data-v-4ea9173d] .el-table__header th:nth-of-type(1) .cell {\n  width: 35px;\n}\n.receiveTable[data-v-4ea9173d] .el-table__header th:nth-of-type(2) .cell {\n  width: 48px;\n}\n.receiveTable[data-v-4ea9173d] .el-table__header th:nth-of-type(4) .cell {\n  width: 200px;\n}\n.receiveTable[data-v-4ea9173d] .el-table__header th:nth-of-type(5) .cell {\n  width: 100px;\n}\n.receiveTable[data-v-4ea9173d] .el-table__header th:nth-of-type(6) .cell {\n  width: 150px;\n}\n.receiveTable[data-v-4ea9173d] .el-table__body td:nth-of-type(1) .cell {\n  width: 35px;\n}\n.receiveTable[data-v-4ea9173d] .el-table__body td:nth-of-type(2) .cell {\n  width: 48px;\n}\n.receiveTable[data-v-4ea9173d] .el-table__body td:nth-of-type(4) .cell {\n  width: 200px;\n}\n.receiveTable[data-v-4ea9173d] .el-table__body td:nth-of-type(5) .cell {\n  width: 100px;\n}\n.receiveTable[data-v-4ea9173d] .el-table__body td:nth-of-type(6) .cell {\n  width: 200px;\n}\n.receiveTable[data-v-4ea9173d] .el-tree-node__content {\n  background: #fafafa !important;\n  border-bottom: 1px dotted #ddd;\n}\n.receiveTable[data-v-4ea9173d] .el-tree-node__label {\n  font-size: 12px !important;\n}\n.receiveTable[data-v-4ea9173d] .el-table__expanded-cell[class*=cell] {\n  padding: 10px 46px;\n  background: #fafafa !important;\n}\n",""])}});